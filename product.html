<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asgaard Sofa - Product Page</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Amatic+SC:wght@400;700&family=Cairo:wght@200..1000&family=Cardo:ital,wght@0,400;0,700;1,400&family=Lobster&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Patua+One&family=Playwrite+VN+Guides&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Rubik:ital,wght@0,300..900;1,300..900&family=Sniglet:wght@400;800&display=swap" rel="stylesheet">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
     <link rel="stylesheet" href="PRODUCT.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>
</head>

<body>
    <!-- ==== NAVIGATION SECTIOn==== -->
    <nav class="navbar navbar-expand-lg navbar-light p-3">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img src="https://github.com/Lilian-Tarek/ITI-Final-Project/blob/main/images/Frame%20168%20(1).png?raw=true" alt="Funiro Logo">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0 gap-5 me-md-5">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Shop</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Contact</a>
                    </li>
                </ul>

                <div class="nav-icons d-flex gap-4 ms-md-5">
                    <img src="https://github.com/Lilian-Tarek/ITI-Final-Project/blob/main/images/mdi_account-alert-outline.png?raw=true" alt="Account">
                    <img src="https://github.com/Lilian-Tarek/ITI-Final-Project/blob/main/images/Vector%20(21).png?raw=true" alt="Search">
                    <img src="https://github.com/Lilian-Tarek/ITI-Final-Project/blob/main/images/akar-icons_heart%20(1).png?raw=true" alt="Wishlist">
                    <img src="https://github.com/Lilian-Tarek/ITI-Final-Project/blob/main/images/Vector%20(22).png?raw=true" alt="Cart" data-bs-toggle="offcanvas" data-bs-target="#shoppingCartOffcanvas" style="cursor: pointer;">
                </div>
            </div>
        </div>
    </nav>

    <!-- Shopping Cart Off Canvas -->
    <div class="offcanvas offcanvas-end" tabindex="-1" id="shoppingCartOffcanvas">
        <div class="offcanvas-header bg-light">
            <h5 class="offcanvas-title">Shopping Cart</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
        </div>
        
        <div class="offcanvas-body">
            <!-- Cart Items -->
            <div class="cart-item d-flex align-items-center">
                <img src="https://github.com/NouranAmr21/tst/blob/main/2.png?raw=true" alt="Product" class="me-3">
                <div class="flex-grow-1">
                    <h6 class="mb-1">Asgaard Sofa</h6>
                    <small class="text-muted">Qty: 1</small>
                    <div class="fw-bold --text-dark">Rs. 250,000.00</div>
                </div>
                <button class="btn btn-sm btn-outline-danger">√ó</button>
            </div>

            <div class="cart-item d-flex align-items-center">
                <img src="https://github.com/NouranAmr21/tst/blob/main/1.png?raw=true" alt="Product" class="me-3">
                <div class="flex-grow-1">
                    <h6 class="mb-1">Modern Chair</h6>
                    <small class="text-muted">Qty: 2</small>
                    <div class="fw-bold --text-dark">Rs. 150,000.00</div>
                </div>
                <button class="btn btn-sm btn-outline-danger">√ó</button>
            </div>

            <!-- Cart Total -->
            <div class="cart-total">
                <div class="d-flex justify-content-between mb-2">
                    <span>Subtotal:</span>
                    <span class="fw-bold">Rs. 400,000.00</span>
                </div>
            </div>

            <!-- Cart Actions -->
            <div class="d-grid gap-2 mt-4">
                <button class="btn btn-outline-secondary">View Cart</button>
                <button class="btn btn-dark">Checkout</button>
            </div>
        </div>
    </div>

    <!-- BREADCRUMB SECTIO  -->
 
    <div class="breadcrumb p-4" style="background-color: var(--main-color);">
            <div class="container">
        <a href="#">Home&nbsp;</a> > <a href="#">&nbsp;Shop</a>&nbsp;>&nbsp;Asgaard sofa</div>
    </div>
    </div>
    <!-- ===========================================
         MAIN PRODUCT SECTION
    =========================================== -->
    <section class="py-5">
        <div class="container">
            <div class="row">
                <!-- Product Images Section -->
                <div class="col-lg-6 col-md-12">
                    <div class="d-flex flex-column flex-md-row">
                        <!-- Thumbnail Carousel -->
                        <div class="thumbnail-carousel justify-content-lg-start justify-content-center">
                            <div class="thumbnail active" data-image="https://github.com/NouranAmr21/tst/blob/main/2.png?raw=true" style="background-image: url('https://github.com/NouranAmr21/tst/blob/main/2.png?raw=true')"></div>
                            <div class="thumbnail" data-image="https://github.com/NouranAmr21/tst/blob/main/1.png?raw=true" style="background-image: url('https://github.com/NouranAmr21/tst/blob/main/1.png?raw=true')"></div>
                            <div class="thumbnail" data-image="https://github.com/NouranAmr21/tst/blob/main/4.png?raw=true" style="background-image: url('https://github.com/NouranAmr21/tst/blob/main/4.png?raw=true')"></div>
                            <div class="thumbnail" data-image="https://github.com/NouranAmr21/tst/blob/main/3.png?raw=true" style="background-image: url('https://github.com/NouranAmr21/tst/blob/main/3.png?raw=true')"></div>
                        </div>
                        <!-- Main Product Image -->
                        <div class="main-image-container">
                            <div class="main-image" id="mainImage" style="background-image: url('https://github.com/NouranAmr21/tst/blob/main/2.png?raw=true')"></div>
                        </div>
                    </div>
                </div>

                <!-- Product Information Section -->
                <div class="col-lg-6 col-md-12">
                    <div class="product-info">
                        <!-- Product Title & Price -->
                        <h1 class="h1 fw-normal mb-2 text-dark">Asgaard sofa</h1>
                        <div class="product-price">Rs. 250,000.00</div>
    
                        <div class="d-flex align-items-center gap-3 mb-3">
                            <div>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
                            <span class="review-text">5 Customer Review</span>
                        </div>

                        <!-- Product Description -->
                        <p class="product-description">
                          perfect blend of modern design and cozy comfort with this stunning cream-colored sofa. Featuring a sleek, minimalist silhouette and plush cushions, this sofa offers an inviting place to relax while complementing any contemporary home d√©cor with its neutral palette.
                        </p>

                        <!-- Size Selection -->
                        <div class="btn-group" role="group" aria-label="Size options">
                        <input type="radio" class="btn-check" name="size" id="sizeL" checked>
                        <label class="btn btn-outline-dark" for="sizeL">L</label>

                        <input type="radio" class="btn-check" name="size" id="sizeXL">
                        <label class="btn btn-outline-dark" for="sizeXL">XL</label>

                        <input type="radio" class="btn-check" name="size" id="sizeXS">
                        <label class="btn btn-outline-dark" for="sizeXS">XS</label>
                        </div>

                        <!-- Color Selection -->
                        <div class="selection-section">
                            <span class="section-label">Color</span>
                            <div class="btn-group" role="group" aria-label="Color options">
                            <input type="radio" class="btn-check" name="color" id="colorBlue" checked>
                            <label class="btn btn-outline-secondary rounded-circle py-3 px-3 mx-1" style="background-color: #efe3c3;" for="colorBlue"></label>

                            <input type="radio" class="btn-check" name="color" id="colorBlack">
                            <label class="btn btn-outline-secondary rounded-circle py-3 px-3 mx-1" style="background-color: black;" for="colorBlack"></label>

                            <input type="radio" class="btn-check" name="color" id="colorGold">
                            <label class="btn btn-outline-secondary rounded-circle py-3 px-3 mx-1" style="background-color: #B88E2F;" for="colorGold"></label>
                            </div>
                        </div>

                        <!-- Quantity and Action Buttons -->
                       <div class="d-flex gap-3 align-items-center mb-4 flex-wrap">
                        <div class="btn-group border rounded" role="group" style="width: 120px;">
                            <button type="button" class="btn btn-outline-light text-dark border-0">-</button>
                            <input type="text" class="form-control text-center border-0" value="1" readonly style="width: 50px;">
                            <button type="button" class="btn btn-outline-light text-dark border-0">+</button>
                        </div>
                        <div class="d-flex flex-wrap gap-2">
                            <button class="btn btn-outline-dark rounded-pill px-4" id="addToCartBtn">Add To Cart</button>
                            <button class="btn btn-outline-dark rounded-pill px-4">+ Compare</button>
                        </div>
                    </div>
                        <!-- Product Details -->
                    <div class="mt-4">
                            <div class="d-flex align-items-center mb-2 small">
                                <span class="text-muted" style="min-width: 80px;">SKU</span>
                                <span class="text-muted ms-2">: SS001</span>
                            </div>
                            <div class="d-flex align-items-center mb-2 small">
                                <span class="text-muted" style="min-width: 80px;">Category</span>
                                <span class="text-muted ms-2">: Sofas</span>
                            </div>
                            <div class="d-flex align-items-center mb-2 small">
                                <span class="text-muted" style="min-width: 80px;">Tags</span>
                                <span class="text-muted ms-2">: Sofa, Chair, Home, Shop</span>
                            </div>
                            <div class="d-flex align-items-center mb-2 small">
                                <span class="text-muted" style="min-width: 80px;">Made in</span>
                                <span class="text-muted ms-2">: Japan</span>
                            </div>
                    </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
<!-- Modal -->
<div class="modal fade" id="addToCartModal" tabindex="-1" aria-labelledby="addToCartModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="addToCartModalLabel">Added to Cart!</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body text-center">
        <h6>Product successfully added to your cart</h6>
        <div class="d-flex align-items-center justify-content-center mt-3">
          <img src="https://github.com/NouranAmr21/tst/blob/main/2.png?raw=true" alt="Asgaard Sofa" style="width: 60px; height: 60px; object-fit: cover;" class="me-3 rounded">
          <div>
            <strong>Asgaard Sofa</strong><br>
            <span class="text-muted">Rs. 250,000.00</span>
          </div>
        </div>
      </div>
      <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Continue Shopping</button>
        <button type="button" class="btn btn-dark" id="viewCartBtn">View Cart</button>
      </div>
    </div>
  </div>
</div>


            <div class="container">
            <!--Tab Navigation -->
                <ul class="nav nav-tabs justify-content-center mb-4" id="productTabs" role="tablist">
                    <li class="nav-item">
                    <button class="nav-link active mx-2 px-3 py-2" id="description-tab" data-bs-toggle="tab" data-bs-target="#description" type="button" role="tab">Description</button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" id="additional-tab" data-bs-toggle="tab" data-bs-target="#additional" type="button" role="tab">Additional Information</button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" id="reviews-tab" data-bs-toggle="tab" data-bs-target="#reviews" type="button" role="tab">Reviews [5]</button>
                    </li>
                </ul>
            
            <!-- Tab Content -->
        <div class="tab-content px-3 px-md-0" id="productTabsContent">
                <!-- Description Tab -->
                <div class="tab-pane fade show active" id="description">
                    <div class="tab-content">
                        <p >Transform your living room with this sleek, cream-colored sofa that embodies modern simplicity and cozy luxury. Designed with clean lines and soft curves, it offers the ideal balance of style and comfort ‚Äî perfect for relaxing after a long day or entertaining guests in effortless sophistication. Featuring plush cushions and a gentle fabric that invites you to sink in, this sofa elevates any space with its timeless appeal. The natural wooden legs add a touch of mid-century charm, while the versatile neutral tone blends seamlessly with any d√©cor style. Included with a stylish throw blanket and matching pillows, it‚Äôs ready to make your home feel warmer and more inviting‚Äîright from day one.</p>
                    </div>
                   <div class="row m-2">
                      <div class="p-2 col-md-6">
                          <img src="https://github.com/NouranAmr21/tst/blob/main/1.png?raw=true" alt=""class="w-100 rounded">
                      </div>
                        <div class="p-2 col-md-6">
                          <img src="https://github.com/NouranAmr21/tst/blob/main/2.png?raw=true" alt=""class="w-100 rounded">
                      </div>
                   </div>
                </div>
                
                <!-- Additional Information Tab -->
                <div class="tab-pane fade" id="additional">
                    <div class="tab-content">
                        <p><strong>Weight:</strong> 7 lbs</p><br>
                        <p><strong>Dimensions:</strong> 243 √ó 150 √ó 153 mm</p><br>
                        <p><strong>Material:</strong> Premium fabric and solid wood frame</p><br>
                        <p><strong>Color Options:</strong> Blue, Black, Gold</p><br>
                        <p><strong>Warranty:</strong> 2 years manufacturer warranty</p>
                    </div>
                </div>
                
                <!-- Reviews Tab -->
                <div class="tab-pane fade" id="reviews">
                    <div class="tab-content">
                        <p><strong>5.0 out of 5 stars</strong> (5 reviews)</p><br>
                        <p><strong>John D.</strong> - ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</p>
                        <p>"Excellent quality sofa. Very comfortable and stylish."</p><br>
                        <p><strong>Sarah M.</strong> - ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</p>
                        <p>"Perfect for my living room. Great value for money."</p><br>
                        <p><strong>Michael R.</strong> - ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</p>
                        <p>"Outstanding build quality and design. Highly recommended!"</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- =foter= -->
    <hr class="border border-0 my-5">
    <footer class="text-md-start text-center">
        <div class="container">
            <div class="row justify-content-center gap-4">
                <div class="company-name col-md-3">
                    <h2 class="mb-5">Funiro.</h2>
                    <p class="text-muted">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus hendrerit suscipit egestas.</p>
                </div>
                <div class="company-links col-md-2">
                    <h4 class="light-color mb-5 text-muted">Links</h4>
                    <ul class="list-unstyled m-0 p-0">
                        <li class="mt-4">Home</li>
                        <li class="mt-3">Shop</li>
                        <li class="mt-3">About</li>
                        <li class="mt-3">Contact</li>
                    </ul>
                </div>
                <div class="company-contact col-md-2">
                    <h4 class="mb-5 text-muted">Help</h4>
                    <ul class="list-unstyled m-0 p-0">
                        <li class="mt-4">Payment Options</li>
                        <li class="mt-3">Returns</li>
                        <li class="mt-3">Privacy Policy</li>
                    </ul>
                </div>
                <div class="company-follow col-md-4">
                    <h4 class="mb-5 text-muted">Newsletter</h4>
                    <form action="post" class="d-flex justify-content-lg-start justify-content-center">
                        <input type="text" placeholder="Enter Your Email Address" class="border-0 border-bottom">
                        <label for="" class="ms-2 fw-bold">Subscribe</label>
                    </form>
                </div>
            </div>
        </div>
    </footer>

    <div class="last">
        <div class="container">
            <hr>
            <p class="py-3 text-lg-start text-center">2023 furino. All rights reserved</p>
        </div>
    </div>

    <script>
       function getCart() {
    try {
        const cart = localStorage.getItem('cart');
        return cart ? JSON.parse(cart) : [];
    } catch (error) {
        console.error('Error loading cart:', error);
        return [];
    }
}

function saveCart(cart) {
    try {
        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartDisplay();
        updateCartCount();
    } catch (error) {
        console.error('Error saving cart:', error);
    }
}

function addToCart() {
    const selectedSize = document.querySelector('input[name="size"]:checked').nextElementSibling.textContent;
    const selectedColor = getSelectedColor();
    const quantity = parseInt(document.querySelector('input[type="text"]').value);
    
    // ÿ™ŸÜÿ≥ŸäŸÇ ÿßŸÑŸÖŸÜÿ™ÿ¨ ÿ≤Ÿä ÿµÿ≠ÿßÿ®ŸÉ ÿ®ÿßŸÑÿ∂ÿ®ÿ∑
    const product = {
        name: 'Asgaard sofa',
        desc: 'Premium luxury sofa',
        price: 'Rs. 250,000.00',
        oldPrice: 'Rs. 300,000.00',
        image: 'https://github.com/NouranAmr21/tst/blob/main/2.png?raw=true',
        // ÿ•ÿ∂ÿßŸÅÿßÿ™ ŸÑŸÑŸÖŸÜÿ™ÿ¨ ÿØŸá ÿ®ÿ≥
        size: selectedSize,
        color: selectedColor,
        quantity: quantity,
        id: 'asgaard-sofa-' + selectedSize + '-' + selectedColor
    };
    
    let cart = getCart();
    
    // ÿ™ÿ¥ŸäŸÉ ŸÑŸà ŸÜŸÅÿ≥ ÿßŸÑŸÖŸÜÿ™ÿ¨ ŸÖŸàÿ¨ŸàÿØ (ŸÜŸÅÿ≥ ÿßŸÑŸÄ size Ÿà color)
    const existingIndex = cart.findIndex(item => 
        item.name === product.name && 
        item.size === product.size && 
        item.color === product.color
    );
    
    if (existingIndex !== -1) {
        // ŸÑŸà ŸÖŸàÿ¨ŸàÿØÿå ÿ≤ŸàÿØ ÿßŸÑŸÉŸÖŸäÿ©
        cart[existingIndex].quantity = (cart[existingIndex].quantity || 1) + quantity;
    } else {
        // ŸÑŸà ŸÖÿ¥ ŸÖŸàÿ¨ŸàÿØÿå ÿ∂ŸäŸÅŸá ÿ¨ÿØŸäÿØ
        cart.push(product);
    }
    
    saveCart(cart);
    return true;
}

function getSelectedColor() {
    const selectedColorInput = document.querySelector('input[name="color"]:checked');
    const colorMap = {
        'colorBlue': 'Cream',
        'colorBlack': 'Black', 
        'colorGold': 'Gold'
    };
    return colorMap[selectedColorInput.id] || 'Cream';
}

function updateCartDisplay() {
    const cartContainer = document.querySelector('.offcanvas-body');
    if (!cartContainer) return;

    const cart = getCart();
    
    if (cart.length === 0) {
        cartContainer.innerHTML = `
            <div class="text-center py-4">
                <div class="mb-3" style="font-size: 4rem; opacity: 0.3;">üõí</div>
                <h6>Your cart is empty</h6>
                <p class="text-muted small">Add some products to get started</p>
            </div>
        `;
        return;
    }

    let cartItemsHtml = '';
    let subtotal = 0;
    
    cart.forEach((item, index) => {
        // ÿßÿ≥ÿ™ÿÆÿ±ÿ¨ ÿßŸÑÿ±ŸÇŸÖ ŸÖŸÜ ÿßŸÑÿ≥ÿπÿ± (ŸÖÿ´ŸÑ Rs. 250,000.00 => 250000)
        const priceNumber = extractPrice(item.price);
        const quantity = item.quantity || 1;
        const itemTotal = priceNumber * quantity;
        subtotal += itemTotal;
        
        cartItemsHtml += `
            <div class="cart-item d-flex align-items-center mb-3">
                <img src="${item.image}" alt="Product" class="me-3" style="width: 60px; height: 60px; object-fit: cover; border-radius: 8px;">
                <div class="flex-grow-1">
                    <h6 class="mb-1">${item.name}</h6>
                    ${item.size ? `<small class="text-muted">Size: ${item.size}</small><br>` : ''}
                    ${item.color ? `<small class="text-muted">Color: ${item.color}</small><br>` : ''}
                    <small class="text-muted">Qty: ${quantity}</small>
                    <div class="fw-bold text-dark">${formatPrice(itemTotal)}</div>
                </div>
                <button class="btn btn-sm btn-outline-danger" onclick="removeFromCart(${index})">√ó</button>
            </div>
        `;
    });

    cartContainer.innerHTML = `
        ${cartItemsHtml}
        <div class="cart-total mt-4 pt-3 border-top">
            <div class="d-flex justify-content-between mb-2">
                <span class="fw-bold">Subtotal:</span>
                <span class="fw-bold text-primary">${formatPrice(subtotal)}</span>
            </div>
        </div>
        <div class="d-grid gap-2 mt-4">
         <button class="btn btn-outline-secondary" onclick="window.location.href='cart.html'">View Cart</button>
            <button class="btn btn-dark">Checkout (${getTotalItems()} items)</button>
        </div>
    `;
}

function extractPrice(priceString) {
    // ÿßÿ≥ÿ™ÿÆÿ±ÿ¨ ÿßŸÑÿ£ÿ±ŸÇÿßŸÖ ŸÖŸÜ string ÿ≤Ÿä "Rs. 250,000.00" => 250000
    return parseInt(priceString.replace(/[^\d]/g, ''));
}

function formatPrice(number) {
    // ÿ≠ŸàŸÑ ÿßŸÑÿ±ŸÇŸÖ ŸÑŸÄ format ÿ≤Ÿä "Rs. 250,000.00"
    if (number >= 1000000) {
        return `Rs. ${(number / 1000000).toFixed(1)}M`;
    } else if (number >= 1000) {
        return `Rs. ${number.toLocaleString()}.00`;
    }
    return `Rs. ${number}.00`;
}

function getTotalItems() {
    const cart = getCart();
    return cart.reduce((total, item) => total + (item.quantity || 1), 0);
}

function removeFromCart(index) {
    let cart = getCart();
    cart.splice(index, 1);
    saveCart(cart);
}

function updateCartCount() {
    const cartIcon = document.querySelector('.nav-icons img[alt="Cart"]');
    if (cartIcon) {
        // ÿ•ÿ≤ÿßŸÑÿ© ÿ£Ÿä badge ŸÖŸàÿ¨ŸàÿØ
        const existingBadge = cartIcon.parentNode.querySelector('.cart-badge');
        if (existingBadge) {
            existingBadge.remove();
        }

        const count = getTotalItems();
        if (count > 0) {
            const badge = document.createElement('span');
            badge.className = 'cart-badge position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger';
            badge.style.fontSize = '0.7rem';
            badge.textContent = count > 99 ? '99+' : count;
            
            // ÿ¨ÿπŸÑ ÿßŸÑŸÄ parent relative
            cartIcon.parentNode.style.position = 'relative';
            cartIcon.parentNode.appendChild(badge);
        }
    }
}

// ===== Event Listeners =====

// Add to cart button
document.getElementById('addToCartBtn').addEventListener('click', function() {
    addToCart();
    
    // Show success modal
    const modal = new bootstrap.Modal(document.getElementById('addToCartModal'));
    modal.show();
});

// View Cart button in modal
document.getElementById('viewCartBtn').addEventListener('click', function() {
    // Close modal
    const modal = bootstrap.Modal.getInstance(document.getElementById('addToCartModal'));
    modal.hide();
    
    // Show offcanvas
    const offcanvas = new bootstrap.Offcanvas(document.getElementById('shoppingCartOffcanvas'));
    offcanvas.show();
});

// Quantity controls (+ and - buttons)
document.addEventListener('DOMContentLoaded', function() {
    const minusBtn = document.querySelector('.btn-group .btn:first-child');
    const plusBtn = document.querySelector('.btn-group .btn:last-child');
    const quantityInput = document.querySelector('.btn-group input');
    
    if (minusBtn && plusBtn && quantityInput) {
        minusBtn.addEventListener('click', function() {
            let currentValue = parseInt(quantityInput.value);
            if (currentValue > 1) {
                quantityInput.value = currentValue - 1;
            }
        });
        
        plusBtn.addEventListener('click', function() {
            let currentValue = parseInt(quantityInput.value);
            quantityInput.value = currentValue + 1;
        });
    }
    
    // Load cart on page load
    setTimeout(() => {
        updateCartDisplay();
        updateCartCount();
    }, 100);
});

// Listen for storage changes (ŸÖŸÜ ÿµŸÅÿ≠ÿßÿ™ ÿ™ÿßŸÜŸäÿ©)
window.addEventListener('storage', function(e) {
    if (e.key === 'cart') {
        updateCartDisplay();
        updateCartCount();
    }
});


// Thumbnail carousel functionality (ÿßŸÑŸÖŸàÿ¨ŸàÿØ ÿ£ÿµŸÑÿßŸã)
const thumbnails = document.querySelectorAll('.thumbnail');
const mainImage = document.getElementById('mainImage');

thumbnails.forEach(thumbnail => {
    thumbnail.addEventListener('click', function() {
        thumbnails.forEach(t => t.classList.remove('active'));
        this.classList.add('active');
        const imageUrl = this.getAttribute('data-image');
        mainImage.style.backgroundImage = `url('${imageUrl}')`;
    });
});

    </script>
</body>
</html>